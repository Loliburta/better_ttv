(this.webpackJsonpbetter_twitchtv=this.webpackJsonpbetter_twitchtv||[]).push([[0],{43:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(21),s=a.n(r),i=(a(43),a(4)),o=a.n(i),l=a(7),u=a(5),j=new Headers({"Client-ID":"igmu2hehs0ztcjdqy6k9wpp7meh7lk",Authorization:"Bearer ".concat("pfp0m0pyy4xljqvtb9dzdj0e1y9wqy")}),_=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Search categories"),n="https://api.twitch.tv/helix/search/categories?query=".concat(t,"&first=40"),a&&(n+="&after=".concat(a)),e.next=5,fetch(n,{method:"GET",headers:j});case 5:return c=e.sent,e.next=8,c.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),d=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Search users"),n="https://api.twitch.tv/helix/search/channels?query=".concat(t,"&first=40"),a&&(n+="&after=".concat(a)),e.next=5,fetch(n,{method:"GET",headers:j});case 5:return c=e.sent,e.next=8,c.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),m=a(32),b=a(10),h=a(19),O=a(33),x=a(34),v=a.p+"static/media/Category.6745fb12.svg",p=a(24),f=a(1),g=function(e){var t=e.id,a=e.name,n=e.box_art_url;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(b.b,{to:"".concat("/better_ttv","/redirect/").concat(a,"/").concat(t),children:Object(f.jsxs)("div",{className:"categoryItems__item",children:[Object(f.jsx)("img",{className:"categoryItems__item__img",src:n,alt:"Category"}),Object(f.jsx)("div",{className:"categoryItems__item__name",children:a})]})})})},N=function(e,t){Object(n.useEffect)((function(){var a=function(a){e.current&&!e.current.contains(a.target)&&t(!1)};return window.addEventListener("mousedown",a),window.addEventListener("touchstart",a),function(){window.removeEventListener("mousedown",a),window.removeEventListener("touchstart",a)}}),[e,t])},w=function(e){var t=e.display_name,a=(e.game_id,e.game_name),n=(e.id,e.is_live);return Object(f.jsx)(f.Fragment,{children:n?Object(f.jsx)(b.b,{to:"".concat("/better_ttv","/Streamer/").concat(t),children:Object(f.jsxs)("div",{className:"userItems__item",children:[Object(f.jsx)(h.Icon,{className:"userItems__item__icon",icon:p.a}),Object(f.jsxs)("div",{className:"userItems__item__desc",children:[Object(f.jsxs)("div",{className:"userItems__item__desc__top",children:[Object(f.jsx)("div",{className:"userItems__item__desc__top__name",children:t}),Object(f.jsx)("div",{className:"userItems__item__desc__top__dot"})]}),Object(f.jsxs)("div",{className:"userItems__item__desc__game",children:["Playing ",a]})]})]})}):Object(f.jsxs)("div",{className:"userItems__item--short",children:[Object(f.jsx)(h.Icon,{className:"userItems__item__icon",icon:p.a}),Object(f.jsx)("div",{className:"userItems__item__desc__top__name",children:t})]})})},I=a(73),y=a(72),S=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),s=Object(u.a)(r,2),i=s[0],j=s[1],S=Object(n.useState)(""),k=Object(u.a)(S,2),G=k[0],E=k[1],C=Object(n.useState)(""),F=Object(u.a)(C,2),L=F[0],M=F[1],D=Object(n.useState)(null),Y=Object(u.a)(D,2),z=Y[0],A=Y[1],J=Object(n.useRef)(null);N(J,j);var q=Object(n.useCallback)(Object(m.debounce)(function(){var e=Object(l.a)(o.a.mark((function e(t,a,n){var c,r,s,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(null),c={data:[]},!(t.length>0&&!0===n)){e.next=9;break}return e.next=5,d(t,a);case 5:c=e.sent,(null===(r=c)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.length)>0&&A(Object(f.jsx)("div",{className:"userItems",children:c.data.map((function(e){return Object(f.jsx)(w,{id:e.id,display_name:e.display_name,game_name:e.game_name,game_id:e.game_id,is_live:e.is_live},e.id)}))})),e.next=14;break;case 9:if(!(t.length>0)){e.next=14;break}return e.next=12,_(t,a);case 12:c=e.sent,(null===(i=c)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.length)>0&&A(Object(f.jsx)("div",{className:"categoryItems",children:c.data.map((function(e){return Object(f.jsx)(g,{id:e.id,name:e.name,box_art_url:e.box_art_url},e.id)}))}));case 14:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),500),[]);return Object(n.useEffect)((function(){q(L,G,a)}),[L,G,q,a]),Object(f.jsxs)("div",{className:"navbar",children:[Object(f.jsx)(b.b,{className:"navbar__twitch",to:"".concat("/better_ttv","/"),children:Object(f.jsx)(h.Icon,{icon:x.a})}),Object(f.jsxs)("div",{className:"navbar__search",ref:J,children:[Object(f.jsxs)("div",{className:"navbar__search__mid",children:[Object(f.jsxs)("div",{className:"navbar__search__mid__searchDiv",onClick:function(){return j(!0)},children:[Object(f.jsx)("input",{type:"text",className:"navbar__search__mid__searchDiv__input",placeholder:"Search",onChange:function(e){return function(e){M(e.target.value),""!==G&&E("")}(e)},value:L,id:"input"}),Object(f.jsx)("label",{htmlFor:"input",children:Object(f.jsx)("div",{className:"navbar__search__mid__searchDiv__icon",children:Object(f.jsx)(h.Icon,{icon:O.a,className:"navbar__search__mid__searchDiv__icon__svg"})})})]}),i?z:""]}),Object(f.jsxs)(y.a,{component:"label",container:!0,alignItems:"center",spacing:1,children:[Object(f.jsx)(y.a,{item:!0,children:Object(f.jsx)("img",{className:"categoryIcon",src:v,alt:"category"})}),Object(f.jsx)(y.a,{item:!0,children:Object(f.jsx)(I.a,{checked:a,onClick:function(){return j(!0)},onChange:function(){return c(!a)}})}),Object(f.jsx)(y.a,{item:!0,children:Object(f.jsx)(h.Icon,{className:"userIcon",icon:p.a})})]})]})]})},k=a(8),G=a(16),E=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Get Games"),a="https://api.twitch.tv/helix/games/top?first=100",t&&(a="".concat(a,"&after=").concat(t)),e.next=5,fetch(a,{method:"GET",headers:j});case 5:return n=e.sent,e.next=8,n.json();case 8:return c=e.sent,e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){var t=e.id,a=e.name,n=e.box_art_url;return Object(f.jsxs)("div",{className:"topGames__game",children:[Object(f.jsx)(b.b,{to:"".concat("/better_ttv","/StreamersForGame/").concat(a,"/").concat(t),children:Object(f.jsx)("img",{src:n,loading:"lazy",alt:"game",className:"topGames__game__img"})}),Object(f.jsx)("div",{className:"topGames__game__name",children:Object(f.jsx)(b.b,{to:"".concat("/better_ttv","/StreamersForGame/").concat(a,"/").concat(t),children:Object(f.jsx)("span",{className:"topGames__game__name__text",children:a})})})]})},F=a(22),L=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),s=Object(u.a)(r,2),i=s[0],j=s[1],_=Object(n.useState)(0),d=Object(u.a)(_,2),m=d[0],b=d[1],h=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(i);case 2:return t=e.sent,j(t.pagination.cursor),n=t.data,b(m+n.length),c([].concat(Object(G.a)(a),[n.map((function(e){return Object(f.jsx)(C,{id:e.id,name:e.name,box_art_url:e.box_art_url.replace("{width}","220").replace("{height}","325")},e.id)}))])),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){h()}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(F.a,{className:"topGames",dataLength:m,next:h,hasMore:!0,loader:Object(f.jsx)("h4",{children:"Loading..."}),endMessage:Object(f.jsx)("p",{style:{textAlign:"center"},children:Object(f.jsx)("b",{children:"Yay! You have seen it all"})}),children:a})})},M=function(){var e=Object(l.a)(o.a.mark((function e(t,a){var n,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Get Streamers"),n="https://api.twitch.tv/helix/streams?first=40",t&&(n="https://api.twitch.tv/helix/streams?first=70",n+="&after=".concat(t)),a&&(n+="&game_id=".concat(a)),e.next=6,fetch(n,{method:"GET",headers:j});case 6:return c=e.sent,e.next=9,c.json();case 9:return r=e.sent,e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Get User"),a="https://api.twitch.tv/helix/users?id=".concat(t),e.next=4,fetch(a,{method:"GET",headers:j});case 4:return n=e.sent,e.next=7,n.json();case 7:return c=e.sent,e.abrupt("return",c.data[0]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){var t=e.getFullYear(),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],n=e.getDay();return"Joined ".concat(0===n?1:n," ").concat(a," ").concat(t)},z=a(35),A=a(36),J=function(e){var t=e.user_id,a=Object(n.useState)(!1),c=Object(u.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(),j=Object(u.a)(i,2),_=j[0],d=j[1],m=Object(n.useState)(),b=Object(u.a)(m,2),O=b[0],x=b[1],v=Object(n.useState)(""),p=Object(u.a)(v,2),g=p[0],w=p[1],I=Object(n.useRef)(null);return Object(n.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:a=e.sent,x(a),w(Y(new Date(a.created_at))),s(!0),d(Object(f.jsx)(h.Icon,{className:"profileIcon__svg",icon:z.a}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),N(I,s),Object(f.jsx)(f.Fragment,{children:r?Object(f.jsxs)("div",{className:r?"channelInfo":"channelInfo--closed",id:"channelInfo",ref:I,children:[Object(f.jsx)("div",{className:"channelInfo__close",onClick:function(){return s(!1)},children:Object(f.jsx)(h.Icon,{className:"channelInfo__close__svg",icon:A.a})}),Object(f.jsxs)("div",{className:"channelInfo__top",children:[Object(f.jsx)("div",{className:"channelInfo__top__image",children:Object(f.jsx)("img",{className:"channelInfo__top__image__img",src:null===O||void 0===O?void 0:O.profile_image_url,alt:"profile"})}),Object(f.jsxs)("div",{className:"channelInfo__top__info",children:[Object(f.jsx)("div",{className:"channelInfo__top__info__name",children:null===O||void 0===O?void 0:O.display_name}),Object(f.jsx)("div",{className:"channelInfo__top__info__type",children:null===O||void 0===O?void 0:O.broadcaster_type}),Object(f.jsxs)("div",{className:"channelInfo__top__info__views",children:[null===O||void 0===O?void 0:O.view_count," views"]}),Object(f.jsx)("div",{className:"channelInfo__top__info__created",children:g})]})]}),Object(f.jsx)("div",{className:"channelInfo__description",children:Object(f.jsx)("div",{className:"",children:null===O||void 0===O?void 0:O.description})})]}):Object(f.jsx)("div",{className:"profileIcon",onClick:function(){return s(!0)},children:_})})},q=function(e){var t=e.game_name,a=e.language,c=e.thumbnail_url,r=e.title,s=e.user_login,i=e.viewer_count,j=e.user_id,_=Object(n.useState)(),d=Object(u.a)(_,2),m=d[0],h=d[1],O=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m||h(Object(f.jsx)(J,{user_id:j}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"topStreamers__stream",children:[m||"",Object(f.jsx)(b.b,{to:"".concat("/better_ttv","/Streamer/").concat(s),children:Object(f.jsxs)("div",{className:"topStreamers__stream__thumbnail",children:[Object(f.jsx)("img",{className:"topStreamers__stream__thumbnail__img",src:c,loading:"lazy",alt:"thumbnail"}),Object(f.jsxs)("div",{className:"topStreamers__stream__thumbnail__count",children:[i," widz\xf3w"]})]})}),Object(f.jsxs)("div",{className:"topStreamers__stream__info",children:[Object(f.jsx)("div",{className:"topStreamers__stream__info__title",children:r}),Object(f.jsx)("div",{className:"topStreamers__stream__info__username",children:Object(f.jsx)("p",{onClick:O,className:"topStreamers__stream__info__username__text",children:s})}),Object(f.jsx)("div",{className:"topStreamers__stream__info__game",children:t}),Object(f.jsx)("div",{className:"topStreamers__stream__info__language",children:a})]})]})})},T=function(){var e=Object(k.g)().GameId,t=Object(n.useState)(""),a=Object(u.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(0),i=Object(u.a)(s,2),j=i[0],_=i[1],d=Object(n.useState)([]),m=Object(u.a)(d,2),b=m[0],h=m[1],O=function(){var t=Object(l.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(c,e);case 2:return a=t.sent,t.t0=r,t.next=6,a.pagination.cursor;case 6:return t.t1=t.sent,(0,t.t0)(t.t1),t.next=10,a.data;case 10:n=t.sent,_(j+n.length),h([].concat(Object(G.a)(b),[n.map((function(e){return Object(f.jsx)(q,{game_name:e.game_name,language:e.language,thumbnail_url:e.thumbnail_url.replace("{width}","450").replace("{height}","254"),title:e.title,user_login:e.user_login,viewer_count:e.viewer_count,user_id:e.user_id},e.user_login)}))]));case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){O()}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(F.a,{className:"topStreamers",dataLength:j,next:O,hasMore:!0,loader:Object(f.jsx)("h4",{children:"Loading..."}),endMessage:Object(f.jsx)("p",{style:{textAlign:"center"},children:Object(f.jsx)("b",{children:"Yay! You have seen it all"})}),children:b})})},B=function(){var e=Object(n.useState)(!0),t=Object(u.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(u.a)(r,2)[1];return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{className:"button",children:[Object(f.jsx)("div",{className:"button__option",onClick:function(){s(!1),c(!0)},children:"Kategorie"}),Object(f.jsx)("div",{className:"button__option",onClick:function(){c(!1),s(!0)},children:"Kana\u0142y na \u017cywo"})]}),a?Object(f.jsx)(L,{}):Object(f.jsx)(T,{})]})},K=function(){var e=Object(k.g)(),t=e.GameName,a=e.GameId,c=Object(n.useState)(""),r=Object(u.a)(c,2),s=r[0],i=r[1],j=Object(n.useState)(0),_=Object(u.a)(j,2),d=_[0],m=_[1],b=Object(n.useState)([]),h=Object(u.a)(b,2),O=h[0],x=h[1],v=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(s,a);case 2:t=e.sent,i(t.pagination.cursor),n=t.data,m(d+n.length),x([].concat(Object(G.a)(O),[n.map((function(e){return Object(f.jsx)(q,{game_name:e.game_name,language:e.language,thumbnail_url:e.thumbnail_url.replace("{width}","450").replace("{height}","254"),title:e.title,user_login:e.user_login,viewer_count:e.viewer_count,user_id:e.user_id},e.user_login)}))]));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){v()}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"gameName",children:t}),Object(f.jsx)(F.a,{className:"topStreamers",dataLength:d,next:v,hasMore:!0,loader:Object(f.jsx)("h4",{children:"Loading..."}),endMessage:Object(f.jsx)("p",{style:{textAlign:"center"},children:Object(f.jsx)("b",{children:"Yay! You have seen it all"})}),children:O})]})},P=a(37),R=function(){var e=Object(k.g)().Name;return Object(f.jsx)("div",{className:"streamWrapper",children:Object(f.jsx)("div",{className:"twitchEmbed",children:Object(f.jsx)(P.a,{id:"twitchEmbed",channel:e,theme:"dark",width:"100%",height:"100%",muted:!0,withChat:!1,onVideoPause:function(){return console.log(":(")}})})})},H=function(){return Object(f.jsx)(b.a,{children:Object(f.jsxs)("div",{children:[Object(f.jsx)(S,{}),Object(f.jsxs)(k.d,{children:[Object(f.jsx)(k.a,{exact:!0,from:"/",to:"".concat("/better_ttv","/")}),Object(f.jsx)(k.b,{path:"".concat("/better_ttv","/"),exact:!0,children:Object(f.jsx)(B,{})}),Object(f.jsx)(k.b,{path:"".concat("/better_ttv","/StreamersForGame/:GameName/:GameId"),children:Object(f.jsx)(K,{})}),Object(f.jsx)(k.b,{exact:!0,path:"".concat("/better_ttv","/redirect/:GameName/:GameId"),render:function(e){return Object(f.jsx)(k.a,{to:"".concat("/better_ttv","/StreamersForGame/").concat(e.match.params.GameName,"/").concat(e.match.params.GameId)})}}),Object(f.jsx)(k.b,{path:"".concat("/better_ttv","/Streamer/:Name"),children:Object(f.jsx)(R,{})})]})]})})};s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(H,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.20f81ad7.chunk.js.map