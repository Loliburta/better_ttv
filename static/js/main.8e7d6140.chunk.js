(this.webpackJsonpbetter_twitchtv=this.webpackJsonpbetter_twitchtv||[]).push([[0],{32:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(22),s=n.n(r),i=(n(32),n(10)),o=n(15),l=n(23),u=n(24),j=n(0),b=function(){return Object(j.jsxs)("div",{className:"navbar",children:[Object(j.jsx)(i.b,{className:"navbar__twitch",to:"".concat("/better_ttv","/"),children:Object(j.jsx)(o.Icon,{icon:u.a})}),Object(j.jsxs)("div",{className:"navbar__searchDiv",children:[Object(j.jsx)("input",{type:"text",className:"navbar__searchDiv__search",placeholder:"Search"}),Object(j.jsx)("div",{className:"navbar__searchDiv__icon",children:Object(j.jsx)(o.Icon,{icon:l.a,className:"navbar__searchDiv__icon__svg"})})]})]})},d=n(5),_=n(4),h=n(3),m=n.n(h),O=n(14),p=n(7),x=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.twitch.tv/helix/games/top?first=100",t&&(n="".concat(n,"&after=").concat(t)),e.next=4,fetch(n,{method:"GET",headers:new Headers({"Client-ID":"igmu2hehs0ztcjdqy6k9wpp7meh7lk",Authorization:"Bearer ".concat("9xcz2w205nqoiivnv5we0168y3zmq1")})});case 4:return a=e.sent,e.next=7,a.json();case 7:return c=e.sent,console.log(c),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(e){var t=e.id,n=e.name,a=e.box_art_url.replace("{width}","220").replace("{height}","325");return Object(j.jsxs)("div",{className:"topGames__game",children:[Object(j.jsx)(i.b,{to:"".concat("/better_ttv","/StreamersForGame/").concat(n,"/").concat(t),children:Object(j.jsx)("img",{src:a,loading:"lazy",alt:"game",className:"topGames__game__img"})}),Object(j.jsx)("div",{className:"topGames__game__name",children:Object(j.jsx)(i.b,{to:"".concat("/better_ttv","/StreamersForGame/").concat(n,"/").concat(t),children:Object(j.jsx)("p",{className:"topGames__game__name__text",children:n})})})]})},f=n(13),g=function(){var e=Object(a.useState)([]),t=Object(_.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(_.a)(r,2),i=s[0],o=s[1],l=Object(a.useState)(0),u=Object(_.a)(l,2),b=u[0],d=u[1],h=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(i);case 2:return t=e.sent,e.t0=o,e.next=6,t.pagination.cursor;case 6:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=10,t.data;case 10:return a=e.sent,d(b+a.length),c([].concat(Object(O.a)(n),[a.map((function(e){return Object(j.jsx)(v,{id:e.id,name:e.name,box_art_url:e.box_art_url},e.id)}))])),e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){h()}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(f.a,{className:"topGames",dataLength:b,next:h,hasMore:!0,loader:Object(j.jsx)("h4",{children:"Loading..."}),endMessage:Object(j.jsx)("p",{style:{textAlign:"center"},children:Object(j.jsx)("b",{children:"Yay! You have seen it all"})}),children:n})})},w=function(){var e=Object(p.a)(m.a.mark((function e(t,n){var a,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.twitch.tv/helix/streams?first=40",t&&(a="https://api.twitch.tv/helix/streams?first=70",a+="&after=".concat(t)),n&&(a+="&game_id=".concat(n)),e.next=5,fetch(a,{method:"GET",headers:new Headers({"Client-ID":"igmu2hehs0ztcjdqy6k9wpp7meh7lk",Authorization:"Bearer ".concat("9xcz2w205nqoiivnv5we0168y3zmq1")})});case 5:return c=e.sent,console.log("streamers"),e.next=9,c.json();case 9:return r=e.sent,e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.twitch.tv/helix/users?id=".concat(t),e.next=3,fetch(n,{method:"GET",headers:new Headers({"Client-ID":"igmu2hehs0ztcjdqy6k9wpp7meh7lk",Authorization:"Bearer ".concat("9xcz2w205nqoiivnv5we0168y3zmq1")})});case 3:return a=e.sent,console.log("user"),e.next=7,a.json();case 7:return c=e.sent,console.log(c.data[0]),e.abrupt("return",c.data[0]);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e){var t=e.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],a=e.getDay();return"Joined ".concat(0===a?1:a," ").concat(n," ").concat(t)},y=n(26),I=function(e){var t=e.user_id,n=Object(a.useState)(!1),c=Object(_.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(null),l=Object(_.a)(i,2),u=l[0],b=l[1],d=Object(a.useState)({}),h=Object(_.a)(d,2),O=h[0],x=h[1],v=Object(a.useState)(""),f=Object(_.a)(v,2),g=f[0],w=f[1],I=Object(a.useRef)(null);return Object(a.useEffect)((function(){(function(){var e=Object(p.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:n=e.sent,x(n),w(S(new Date(n.created_at))),s(!0),b(Object(j.jsx)(o.Icon,{className:"profileIcon__svg",icon:y.a}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),function(e,t){Object(a.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(!1)};return window.addEventListener("mousedown",n),window.addEventListener("touchstart",n),function(){window.removeEventListener("mousedown",n),window.removeEventListener("touchstart",n)}}),[e,t])}(I,s),Object(j.jsx)(j.Fragment,{children:r?Object(j.jsxs)("div",{className:r?"channelInfo":"channelInfo--closed",ref:I,children:[Object(j.jsxs)("div",{className:"channelInfo__top",children:[Object(j.jsx)("div",{className:"channelInfo__top__image",children:Object(j.jsx)("img",{className:"channelInfo__top__image__img",src:O.profile_image_url,alt:"profile"})}),Object(j.jsxs)("div",{className:"channelInfo__top__info",children:[Object(j.jsx)("div",{className:"channelInfo__top__info__name",children:O.display_name}),Object(j.jsx)("div",{className:"channelInfo__top__info__type",children:O.broadcaster_type}),Object(j.jsxs)("div",{className:"channelInfo__top__info__views",children:[O.view_count," views"]}),Object(j.jsx)("div",{className:"channelInfo__top__info__created",children:g})]})]}),Object(j.jsx)("div",{className:"channelInfo__description",children:Object(j.jsx)("div",{className:"",children:O.description})})]}):Object(j.jsx)("div",{className:r?"profileIcon--closed":"profileIcon",onClick:function(){return s(!0)},children:u})})},k=function(e){var t=e.game_name,n=e.language,c=e.thumbnail_url,r=e.title,s=e.user_login,o=e.viewer_count,l=e.user_id,u=Object(a.useState)(),b=Object(_.a)(u,2),d=b[0],h=b[1],O=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d||h(Object(j.jsx)(I,{user_id:l}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=c.replace("{width}","450").replace("{height}","254");return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"topStreamers__stream",children:[d||"",Object(j.jsx)(i.b,{to:"".concat("/better_ttv","/Streamer/").concat(s),children:Object(j.jsxs)("div",{className:"topStreamers__stream__thumbnail",children:[Object(j.jsx)("img",{className:"topStreamers__stream__thumbnail__img",src:x,loading:"lazy",alt:"thumbnail"}),Object(j.jsxs)("div",{className:"topStreamers__stream__thumbnail__count",children:[o," widz\xf3w"]})]})}),Object(j.jsxs)("div",{className:"topStreamers__stream__info",children:[Object(j.jsx)("div",{className:"topStreamers__stream__info__title",children:r}),Object(j.jsx)("div",{className:"topStreamers__stream__info__username",children:Object(j.jsx)("p",{onClick:O,className:"topStreamers__stream__info__username__text",children:s})}),Object(j.jsx)("div",{className:"topStreamers__stream__info__game",children:t}),Object(j.jsx)("div",{children:n})]})]})})},G=function(){console.log(Object(d.g)());var e=Object(d.g)(),t=e.GameName,n=e.GameId;console.log(n),console.log(t);var c=Object(a.useState)(""),r=Object(_.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(0),l=Object(_.a)(o,2),u=l[0],b=l[1],h=Object(a.useState)([]),x=Object(_.a)(h,2),v=x[0],g=x[1],N=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(s,n);case 2:return t=e.sent,e.t0=console,e.next=6,t;case 6:return e.t1=e.sent,e.t0.log.call(e.t0,e.t1),e.t2=i,e.next=11,t.pagination.cursor;case 11:return e.t3=e.sent,(0,e.t2)(e.t3),e.next=15,t.data;case 15:a=e.sent,console.log("called specific game streams api"),b(u+a.length),g([].concat(Object(O.a)(v),[a.map((function(e){return Object(j.jsx)(k,{game_name:e.game_name,language:e.language,thumbnail_url:e.thumbnail_url,title:e.title,user_login:e.user_login,viewer_count:e.viewer_count,user_id:e.user_id},e.user_login)}))]));case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){N()}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(f.a,{className:"topStreamers",dataLength:u,next:N,hasMore:!0,loader:Object(j.jsx)("h4",{children:"Loading..."}),endMessage:Object(j.jsx)("p",{style:{textAlign:"center"},children:Object(j.jsx)("b",{children:"Yay! You have seen it all"})}),children:v})})},z=function(){var e=Object(a.useState)(!0),t=Object(_.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(_.a)(r,2)[1];return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"button",children:[Object(j.jsx)("div",{className:"button__option",onClick:function(){s(!1),c(!0)},children:"Kategorie"}),Object(j.jsx)("div",{className:"button__option",onClick:function(){c(!1),s(!0)},children:"Kana\u0142y na \u017cywo"})]}),n?Object(j.jsx)(g,{}):Object(j.jsx)(G,{})]})},E=function(){console.log(Object(d.g)());var e=Object(d.g)(),t=e.GameName,n=e.GameId;console.log(n),console.log(t);var c=Object(a.useState)(""),r=Object(_.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(0),l=Object(_.a)(o,2),u=l[0],b=l[1],h=Object(a.useState)([]),x=Object(_.a)(h,2),v=x[0],g=x[1],N=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(s,n);case 2:return t=e.sent,e.t0=console,e.next=6,t;case 6:return e.t1=e.sent,e.t0.log.call(e.t0,e.t1),e.t2=i,e.next=11,t.pagination.cursor;case 11:return e.t3=e.sent,(0,e.t2)(e.t3),e.next=15,t.data;case 15:a=e.sent,console.log("called specific game streams api"),b(u+a.length),g([].concat(Object(O.a)(v),[a.map((function(e){return Object(j.jsx)(k,{game_name:e.game_name,language:e.language,thumbnail_url:e.thumbnail_url,title:e.title,user_login:e.user_login,viewer_count:e.viewer_count,user_id:e.user_id},e.user_login)}))]));case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){N()}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"gameName",children:t}),Object(j.jsx)(f.a,{className:"topStreamers",dataLength:u,next:N,hasMore:!0,loader:Object(j.jsx)("h4",{children:"Loading..."}),endMessage:Object(j.jsx)("p",{style:{textAlign:"center"},children:Object(j.jsx)("b",{children:"Yay! You have seen it all"})}),children:v})]})},D=n(27),F=function(){var e=Object(d.g)().Name;return Object(j.jsx)("div",{className:"streamWrapper",children:Object(j.jsx)("div",{className:"twitchEmbed",children:Object(j.jsx)(D.a,{id:"twitchEmbed",channel:e,theme:"dark",width:"100%",height:"100%",muted:!0,withChat:!1,onVideoPause:function(){return console.log(":(")}})})})},L=function(){return Object(j.jsx)(i.a,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{}),Object(j.jsxs)(d.d,{children:[Object(j.jsx)(d.a,{exact:!0,from:"/",to:"".concat("/better_ttv","/")}),Object(j.jsx)(d.b,{path:"".concat("/better_ttv","/"),exact:!0,children:Object(j.jsx)(z,{})}),Object(j.jsx)(d.b,{path:"".concat("/better_ttv","/StreamersForGame/:GameName/:GameId"),children:Object(j.jsx)(E,{})}),Object(j.jsx)(d.b,{path:"".concat("/better_ttv","/Streamer/:Name"),children:Object(j.jsx)(F,{})})]})]})})};s.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(L,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.8e7d6140.chunk.js.map