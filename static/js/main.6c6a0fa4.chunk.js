(this.webpackJsonpbetter_twitchtv=this.webpackJsonpbetter_twitchtv||[]).push([[0],{42:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(20),s=n.n(r),i=(n(42),n(4)),o=n.n(i),u=n(7),l=n(5),j=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.twitch.tv/helix/search/categories?query=".concat(t,"&first=40"),n&&(a+="&after=".concat(n)),e.next=4,fetch(a,{method:"GET",headers:new Headers({"Client-ID":"igmu2hehs0ztcjdqy6k9wpp7meh7lk",Authorization:"Bearer ".concat("9xcz2w205nqoiivnv5we0168y3zmq1")})});case 4:return c=e.sent,console.log("search categories"),e.next=8,c.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.twitch.tv/helix/search/channels?query=".concat(t,"&first=40"),n&&(a+="&after=".concat(n)),e.next=4,fetch(a,{method:"GET",headers:new Headers({"Client-ID":"igmu2hehs0ztcjdqy6k9wpp7meh7lk",Authorization:"Bearer ".concat("9xcz2w205nqoiivnv5we0168y3zmq1")})});case 4:return c=e.sent,console.log("search users"),e.next=8,c.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=n(31),b=n(12),h=n(22),_=n(32),O=n(33),x=n(1),p=function(e){var t=e.id,n=e.name,a=e.box_art_url;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(b.b,{to:"".concat("/better_ttv","/redirect/").concat(n,"/").concat(t),children:Object(x.jsxs)("div",{className:"categoryItems__item",children:[Object(x.jsx)("img",{className:"categoryItems__item__img",src:a,alt:"Category"}),Object(x.jsx)("div",{className:"categoryItems__item__name",children:n})]})})})},v=function(e,t){Object(a.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(!1)};return window.addEventListener("mousedown",n),window.addEventListener("touchstart",n),function(){window.removeEventListener("mousedown",n),window.removeEventListener("touchstart",n)}}),[e,t])},f=function(e){var t=e.display_name;e.game_id,e.game_name,e.id,e.is_live;return Object(x.jsx)("div",{children:Object(x.jsx)("div",{children:t})})},g=n(72),w=n(71),N=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),s=Object(l.a)(r,2),i=s[0],N=s[1],y=Object(a.useState)(""),S=Object(l.a)(y,2),I=S[0],k=S[1],z=Object(a.useState)(""),G=Object(l.a)(z,2),E=G[0],q=G[1],C=Object(a.useState)(null),F=Object(l.a)(C,2),D=F[0],A=F[1],L=Object(a.useRef)(null);v(L,N),Object(a.useEffect)((function(){i||(A(null),q(""))}),[i]);var M=Object(a.useCallback)(Object(m.debounce)(function(){var e=Object(u.a)(o.a.mark((function e(t,n,a){var c,r,s,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(null),c={data:[]},!(t.length>0&&!0===a)){e.next=9;break}return e.next=5,d(t,n);case 5:c=e.sent,(null===(r=c)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.length)>0&&A(Object(x.jsx)("div",{className:i?"userItems":"userItems--closed",children:c.data.map((function(e){return Object(x.jsx)(f,{id:e.id,display_name:e.display_name,game_name:e.game_name,game_id:e.game_id,is_live:e.is_live},e.id)}))})),e.next=14;break;case 9:if(!(t.length>0)){e.next=14;break}return e.next=12,j(t,n);case 12:c=e.sent,(null===(u=c)||void 0===u||null===(l=u.data)||void 0===l?void 0:l.length)>0&&A(Object(x.jsx)("div",{className:i?"categoryItems":"categoryItems--closed",children:c.data.map((function(e){return Object(x.jsx)(p,{id:e.id,name:e.name,box_art_url:e.box_art_url},e.id)}))}));case 14:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),500),[]);return Object(a.useEffect)((function(){M(E,I,n)}),[E,I,M,n]),Object(x.jsxs)("div",{className:"navbar",children:[Object(x.jsx)(b.b,{className:"navbar__twitch",to:"".concat("/better_ttv","/"),children:Object(x.jsx)(h.Icon,{icon:O.a})}),Object(x.jsxs)("div",{className:"navbar__search",children:[Object(x.jsxs)("div",{className:"navbar__search__mid",ref:L,children:[Object(x.jsxs)("div",{className:"navbar__search__mid__searchDiv",onClick:function(){return N(!0)},children:[Object(x.jsx)("input",{type:"text",className:"navbar__search__mid__searchDiv__input",placeholder:"Search",onChange:function(e){return function(e){q(e.target.value),""!==I&&k("")}(e)},value:E,id:"input"}),Object(x.jsx)("label",{htmlFor:"input",children:Object(x.jsx)("div",{className:"navbar__search__mid__searchDiv__icon",children:Object(x.jsx)(h.Icon,{icon:_.a,className:"navbar__search__mid__searchDiv__icon__svg"})})})]}),D||""]}),Object(x.jsxs)(w.a,{component:"label",container:!0,alignItems:"center",spacing:1,children:[Object(x.jsx)(w.a,{item:!0,children:"Category"}),Object(x.jsx)(w.a,{item:!0,children:Object(x.jsx)(g.a,{checked:n,onChange:function(){return c(!n)}})}),Object(x.jsx)(w.a,{item:!0,children:"User"})]})]})]})},y=n(8),S=n(16),I=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.twitch.tv/helix/games/top?first=100",t&&(n="".concat(n,"&after=").concat(t)),e.next=4,fetch(n,{method:"GET",headers:new Headers({"Client-ID":"igmu2hehs0ztcjdqy6k9wpp7meh7lk",Authorization:"Bearer ".concat("9xcz2w205nqoiivnv5we0168y3zmq1")})});case 4:return a=e.sent,e.next=7,a.json();case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e){var t=e.id,n=e.name,a=e.box_art_url.replace("{width}","220").replace("{height}","325");return Object(x.jsxs)("div",{className:"topGames__game",children:[Object(x.jsx)(b.b,{to:"".concat("/better_ttv","/StreamersForGame/").concat(n,"/").concat(t),children:Object(x.jsx)("img",{src:a,loading:"lazy",alt:"game",className:"topGames__game__img"})}),Object(x.jsx)("div",{className:"topGames__game__name",children:Object(x.jsx)(b.b,{to:"".concat("/better_ttv","/StreamersForGame/").concat(n,"/").concat(t),children:Object(x.jsx)("p",{className:"topGames__game__name__text",children:n})})})]})},z=n(21),G=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(l.a)(r,2),i=s[0],j=s[1],d=Object(a.useState)(0),m=Object(l.a)(d,2),b=m[0],h=m[1],_=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(i);case 2:return t=e.sent,e.t0=j,e.next=6,t.pagination.cursor;case 6:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=10,t.data;case 10:return a=e.sent,h(b+a.length),c([].concat(Object(S.a)(n),[a.map((function(e){return Object(x.jsx)(k,{id:e.id,name:e.name,box_art_url:e.box_art_url},e.id)}))])),e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){_()}),[]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(z.a,{className:"topGames",dataLength:b,next:_,hasMore:!0,loader:Object(x.jsx)("h4",{children:"Loading..."}),endMessage:Object(x.jsx)("p",{style:{textAlign:"center"},children:Object(x.jsx)("b",{children:"Yay! You have seen it all"})}),children:n})})},E=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var a,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.twitch.tv/helix/streams?first=40",t&&(a="https://api.twitch.tv/helix/streams?first=70",a+="&after=".concat(t)),n&&(a+="&game_id=".concat(n)),e.next=5,fetch(a,{method:"GET",headers:new Headers({"Client-ID":"igmu2hehs0ztcjdqy6k9wpp7meh7lk",Authorization:"Bearer ".concat("9xcz2w205nqoiivnv5we0168y3zmq1")})});case 5:return c=e.sent,e.next=8,c.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.twitch.tv/helix/users?id=".concat(t),e.next=3,fetch(n,{method:"GET",headers:new Headers({"Client-ID":"igmu2hehs0ztcjdqy6k9wpp7meh7lk",Authorization:"Bearer ".concat("9xcz2w205nqoiivnv5we0168y3zmq1")})});case 3:return a=e.sent,e.next=6,a.json();case 6:return c=e.sent,e.abrupt("return",c.data[0]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){var t=e.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],a=e.getDay();return"Joined ".concat(0===a?1:a," ").concat(n," ").concat(t)},F=n(34),D=n(35),A=function(e){var t=e.user_id,n=Object(a.useState)(!1),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(null),j=Object(l.a)(i,2),d=j[0],m=j[1],b=Object(a.useState)({}),_=Object(l.a)(b,2),O=_[0],p=_[1],f=Object(a.useState)(""),g=Object(l.a)(f,2),w=g[0],N=g[1],y=Object(a.useRef)(null);return Object(a.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t);case 2:n=e.sent,p(n),N(C(new Date(n.created_at))),s(!0),m(Object(x.jsx)(h.Icon,{className:"profileIcon__svg",icon:F.a}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),v(y,s),Object(x.jsx)(x.Fragment,{children:r?Object(x.jsxs)("div",{className:r?"channelInfo":"channelInfo--closed",ref:y,children:[Object(x.jsx)("div",{className:"channelInfo__close",onClick:function(){return s(!1)},children:Object(x.jsx)(h.Icon,{className:"channelInfo__close__svg",icon:D.a})}),Object(x.jsxs)("div",{className:"channelInfo__top",children:[Object(x.jsx)("div",{className:"channelInfo__top__image",children:Object(x.jsx)("img",{className:"channelInfo__top__image__img",src:O.profile_image_url,alt:"profile"})}),Object(x.jsxs)("div",{className:"channelInfo__top__info",children:[Object(x.jsx)("div",{className:"channelInfo__top__info__name",children:O.display_name}),Object(x.jsx)("div",{className:"channelInfo__top__info__type",children:O.broadcaster_type}),Object(x.jsxs)("div",{className:"channelInfo__top__info__views",children:[O.view_count," views"]}),Object(x.jsx)("div",{className:"channelInfo__top__info__created",children:w})]})]}),Object(x.jsx)("div",{className:"channelInfo__description",children:Object(x.jsx)("div",{className:"",children:O.description})})]}):Object(x.jsx)("div",{className:r?"profileIcon--closed":"profileIcon",onClick:function(){return s(!0)},children:d})})},L=function(e){var t=e.game_name,n=e.language,c=e.thumbnail_url,r=e.title,s=e.user_login,i=e.viewer_count,j=e.user_id,d=Object(a.useState)(),m=Object(l.a)(d,2),h=m[0],_=m[1],O=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h||_(Object(x.jsx)(A,{user_id:j}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=c.replace("{width}","450").replace("{height}","254");return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"topStreamers__stream",children:[h||"",Object(x.jsx)(b.b,{to:"".concat("/better_ttv","/Streamer/").concat(s),children:Object(x.jsxs)("div",{className:"topStreamers__stream__thumbnail",children:[Object(x.jsx)("img",{className:"topStreamers__stream__thumbnail__img",src:p,loading:"lazy",alt:"thumbnail"}),Object(x.jsxs)("div",{className:"topStreamers__stream__thumbnail__count",children:[i," widz\xf3w"]})]})}),Object(x.jsxs)("div",{className:"topStreamers__stream__info",children:[Object(x.jsx)("div",{className:"topStreamers__stream__info__title",children:r}),Object(x.jsx)("div",{className:"topStreamers__stream__info__username",children:Object(x.jsx)("p",{onClick:O,className:"topStreamers__stream__info__username__text",children:s})}),Object(x.jsx)("div",{className:"topStreamers__stream__info__game",children:t}),Object(x.jsx)("div",{children:n})]})]})})},M=function(){var e=Object(y.g)().GameId,t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(0),i=Object(l.a)(s,2),j=i[0],d=i[1],m=Object(a.useState)([]),b=Object(l.a)(m,2),h=b[0],_=b[1],O=function(){var t=Object(u.a)(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(c,e);case 2:return n=t.sent,t.t0=console,t.next=6,n;case 6:return t.t1=t.sent,t.t0.log.call(t.t0,t.t1),t.t2=r,t.next=11,n.pagination.cursor;case 11:return t.t3=t.sent,(0,t.t2)(t.t3),t.next=15,n.data;case 15:a=t.sent,d(j+a.length),_([].concat(Object(S.a)(h),[a.map((function(e){return Object(x.jsx)(L,{game_name:e.game_name,language:e.language,thumbnail_url:e.thumbnail_url,title:e.title,user_login:e.user_login,viewer_count:e.viewer_count,user_id:e.user_id},e.user_login)}))]));case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){O()}),[]),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(z.a,{className:"topStreamers",dataLength:j,next:O,hasMore:!0,loader:Object(x.jsx)("h4",{children:"Loading..."}),endMessage:Object(x.jsx)("p",{style:{textAlign:"center"},children:Object(x.jsx)("b",{children:"Yay! You have seen it all"})}),children:h})})},Y=function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2)[1];return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"button",children:[Object(x.jsx)("div",{className:"button__option",onClick:function(){s(!1),c(!0)},children:"Kategorie"}),Object(x.jsx)("div",{className:"button__option",onClick:function(){c(!1),s(!0)},children:"Kana\u0142y na \u017cywo"})]}),n?Object(x.jsx)(G,{}):Object(x.jsx)(M,{})]})},B=function(){var e=Object(y.g)(),t=e.GameName,n=e.GameId,c=Object(a.useState)(""),r=Object(l.a)(c,2),s=r[0],i=r[1],j=Object(a.useState)(0),d=Object(l.a)(j,2),m=d[0],b=d[1],h=Object(a.useState)([]),_=Object(l.a)(h,2),O=_[0],p=_[1],v=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(s,n);case 2:return t=e.sent,e.t0=i,e.next=6,t.pagination.cursor;case 6:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=10,t.data;case 10:a=e.sent,console.log("called specific game streams api"),b(m+a.length),p([].concat(Object(S.a)(O),[a.map((function(e){return Object(x.jsx)(L,{game_name:e.game_name,language:e.language,thumbnail_url:e.thumbnail_url,title:e.title,user_login:e.user_login,viewer_count:e.viewer_count,user_id:e.user_id},e.user_login)}))]));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){v()}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{className:"gameName",children:t}),Object(x.jsx)(z.a,{className:"topStreamers",dataLength:m,next:v,hasMore:!0,loader:Object(x.jsx)("h4",{children:"Loading..."}),endMessage:Object(x.jsx)("p",{style:{textAlign:"center"},children:Object(x.jsx)("b",{children:"Yay! You have seen it all"})}),children:O})]})},J=n(36),H=function(){var e=Object(y.g)().Name;return Object(x.jsx)("div",{className:"streamWrapper",children:Object(x.jsx)("div",{className:"twitchEmbed",children:Object(x.jsx)(J.a,{id:"twitchEmbed",channel:e,theme:"dark",width:"100%",height:"100%",muted:!0,withChat:!1,onVideoPause:function(){return console.log(":(")}})})})},T=function(){return Object(x.jsx)(b.a,{children:Object(x.jsxs)("div",{children:[Object(x.jsx)(N,{}),Object(x.jsxs)(y.d,{children:[Object(x.jsx)(y.a,{exact:!0,from:"/",to:"".concat("/better_ttv","/")}),Object(x.jsx)(y.b,{path:"".concat("/better_ttv","/"),exact:!0,children:Object(x.jsx)(Y,{})}),Object(x.jsx)(y.b,{path:"".concat("/better_ttv","/StreamersForGame/:GameName/:GameId"),children:Object(x.jsx)(B,{})}),Object(x.jsx)(y.b,{exact:!0,path:"".concat("/better_ttv","/redirect/:GameName/:GameId"),render:function(e){return Object(x.jsx)(y.a,{to:"".concat("/better_ttv","/StreamersForGame/").concat(e.match.params.GameName,"/").concat(e.match.params.GameId)})}}),Object(x.jsx)(y.b,{path:"".concat("/better_ttv","/Streamer/:Name"),children:Object(x.jsx)(H,{})})]})]})})};s.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(T,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.6c6a0fa4.chunk.js.map