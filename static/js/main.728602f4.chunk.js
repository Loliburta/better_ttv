(this.webpackJsonpbetter_twitchtv=this.webpackJsonpbetter_twitchtv||[]).push([[0],{29:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(21),s=n.n(r),i=(n(29),n(22)),o=n(23),l=n(0),u=function(){return Object(l.jsxs)("div",{className:"navbar",children:[Object(l.jsx)("input",{type:"text",className:"navbar__search",placeholder:"Search"}),Object(l.jsx)("div",{className:"navbar__icon",children:Object(l.jsx)(i.Icon,{icon:o.a,className:"navbar__icon__svg"})})]})},j=n(13),b=n(2),m=n(5),h=n(4),d=n.n(h),x=n(12),_=n(9),O=function(){var e=Object(_.a)(d.a.mark((function e(t){var n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://api.twitch.tv/helix/games/top?first=100",t&&(n="".concat(n,"&after=").concat(t)),e.next=4,fetch(n,{method:"GET",headers:new Headers({"Client-ID":"igmu2hehs0ztcjdqy6k9wpp7meh7lk",Authorization:"Bearer ".concat("9xcz2w205nqoiivnv5we0168y3zmq1")})});case 4:return a=e.sent,e.next=7,a.json();case 7:return c=e.sent,console.log(c),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){var t=e.id,n=e.name,a=e.box_art_url.replace("{width}","200").replace("{height}","300");return Object(l.jsxs)("div",{className:"topGames__game",children:[Object(l.jsx)("div",{children:t}),Object(l.jsx)(j.b,{to:"/StreamersForGame/".concat(n,"/").concat(t),children:Object(l.jsx)("img",{src:a,loading:"lazy",alt:"game",className:"topGames__game__img"})}),Object(l.jsx)("div",{className:"topGames__game__name",children:n})]})},g=n(11),v=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(m.a)(r,2),i=s[0],o=s[1],u=Object(a.useState)(0),j=Object(m.a)(u,2),b=j[0],h=j[1],v=function(){var e=Object(_.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(i);case 2:return t=e.sent,e.t0=o,e.next=6,t.pagination.cursor;case 6:return e.t1=e.sent,(0,e.t0)(e.t1),e.next=10,t.data;case 10:return a=e.sent,h(b+a.length),console.log("called games api"),c([].concat(Object(x.a)(n),[a.map((function(e){return Object(l.jsx)(p,{id:e.id,name:e.name,box_art_url:e.box_art_url},e.id)}))])),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){v()}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(g.a,{className:"topGames",dataLength:b,next:v,hasMore:!0,loader:Object(l.jsx)("h4",{children:"Loading..."}),endMessage:Object(l.jsx)("p",{style:{textAlign:"center"},children:Object(l.jsx)("b",{children:"Yay! You have seen it all"})}),children:n})})},f=function(){var e=Object(_.a)(d.a.mark((function e(t,n){var a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.twitch.tv/helix/streams?first=70",t&&(a+="&after=".concat(t)),n&&(a+="&game_id=".concat(n)),e.next=5,fetch(a,{method:"GET",headers:new Headers({"Client-ID":"igmu2hehs0ztcjdqy6k9wpp7meh7lk",Authorization:"Bearer ".concat("9xcz2w205nqoiivnv5we0168y3zmq1")})});case 5:return c=e.sent,e.next=8,c.json();case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(e){var t=e.game_name,n=e.language,a=e.thumbnail_url,c=e.title,r=e.user_login,s=e.viewer_count,i=a.replace("{width}","300").replace("{height}","200");return Object(l.jsxs)("div",{className:"topStreamers__stream",children:[Object(l.jsxs)("div",{className:"topStreamers__stream__thumbnail",children:[Object(l.jsx)("img",{src:i,loading:"lazy",alt:"thumbnail"}),Object(l.jsxs)("div",{className:"topStreamers__stream__thumbnail__count",children:[s," widz\xf3w"]})]}),Object(l.jsxs)("div",{className:"topStreamers__stream__info",children:[Object(l.jsx)("div",{className:"topStreamers__stream__info__title",children:c}),Object(l.jsx)("div",{className:"topStreamers__stream__info__username",children:r}),Object(l.jsx)("div",{className:"topStreamers__stream__info__game",children:t}),Object(l.jsx)("div",{children:n})]})]})},S=function(){var e=Object(a.useState)(""),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(0),s=Object(m.a)(r,2),i=s[0],o=s[1],u=Object(a.useState)([]),j=Object(m.a)(u,2),b=j[0],h=j[1],O=function(){var e=Object(_.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(n);case 2:return t=e.sent,e.t0=console,e.next=6,t;case 6:return e.t1=e.sent,e.t0.log.call(e.t0,e.t1),e.t2=c,e.next=11,t.pagination.cursor;case 11:return e.t3=e.sent,(0,e.t2)(e.t3),e.next=15,t.data;case 15:a=e.sent,console.log("called streams api"),o(i+a.length),h([].concat(Object(x.a)(b),[a.map((function(e){return Object(l.jsx)(w,{game_name:e.game_name,language:e.language,thumbnail_url:e.thumbnail_url,title:e.title,user_login:e.user_login,viewer_count:e.viewer_count},e.user_login)}))]));case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){O()}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(g.a,{className:"topStreamers",dataLength:i,next:O,hasMore:!0,loader:Object(l.jsx)("h4",{children:"Loading..."}),endMessage:Object(l.jsx)("p",{style:{textAlign:"center"},children:Object(l.jsx)("b",{children:"Yay! You have seen it all"})}),children:b})})},N=function(){var e=Object(a.useState)(!0),t=Object(m.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(m.a)(r,2)[1];return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"button",children:[Object(l.jsx)("div",{className:"button__option",onClick:function(){s(!1),c(!0)},children:"Kategorie"}),Object(l.jsx)("div",{className:"button__option",onClick:function(){c(!1),s(!0)},children:"Kana\u0142y na \u017cywo"})]}),n?Object(l.jsx)(v,{}):Object(l.jsx)(S,{})]})},y=function(){console.log(Object(b.g)());var e=Object(b.g)(),t=e.GameName,n=e.GameId;console.log(n),console.log(t);var c=Object(a.useState)(""),r=Object(m.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(0),u=Object(m.a)(o,2),j=u[0],h=u[1],O=Object(a.useState)([]),p=Object(m.a)(O,2),v=p[0],S=p[1],N=function(){var e=Object(_.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(s,n);case 2:return t=e.sent,e.t0=console,e.next=6,t;case 6:return e.t1=e.sent,e.t0.log.call(e.t0,e.t1),e.t2=i,e.next=11,t.pagination.cursor;case 11:return e.t3=e.sent,(0,e.t2)(e.t3),e.next=15,t.data;case 15:a=e.sent,console.log("called specific game streams api"),h(j+a.length),S([].concat(Object(x.a)(v),[a.map((function(e){return Object(l.jsx)(w,{game_name:e.game_name,language:e.language,thumbnail_url:e.thumbnail_url,title:e.title,user_login:e.user_login,viewer_count:e.viewer_count},e.user_login)}))]));case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){N()}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(g.a,{className:"topStreamers",dataLength:j,next:N,hasMore:!0,loader:Object(l.jsx)("h4",{children:"Loading..."}),endMessage:Object(l.jsx)("p",{style:{textAlign:"center"},children:Object(l.jsx)("b",{children:"Yay! You have seen it all"})}),children:v})})},k=function(){return Object(l.jsx)(j.a,{children:Object(l.jsxs)("div",{children:[Object(l.jsx)(u,{}),Object(l.jsxs)(b.d,{children:[Object(l.jsx)(b.a,{exact:!0,from:"/",to:"/better_ttv"}),Object(l.jsx)(b.b,{path:["/better_ttv"],exact:!0,children:Object(l.jsx)(N,{})}),Object(l.jsx)(b.b,{path:"/StreamersForGame/:GameName/:GameId",children:Object(l.jsx)(y,{})})]})]})})};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(k,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.728602f4.chunk.js.map